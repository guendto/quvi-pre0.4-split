
Version 0.2.0
=============

* Developers should read these changes carefully, especially the "API changes"

* Downstream maintainers should read (at least) the "Distribution changes"


1. Lua scripting
----------------

Introduce Lua <http://lua.org> scripts to the project. quvi now uses website
specific scripts (rules) to fetch and parse the video links.

This has the following advantages to the old design:

  * Dynamic script loading
    - Scripts can be edited, dropped in (and removed from) the search path
    - See share/lua/README for the script search paths

  * Scripts are easier to maintain
    - Website support is the most frequently changing part of the project
    - Easy prototyping for new websites
    - No need to fiddle with the library C source code when parsing breaks
    - Less prone to memory leaks
    - Lua syntax is easy to learn and understand

Scripting replaces the old design entirely, e.g. lib/host/ or any related
files are no longer required or distributed with the source code


2. Video format (ID) changes
----------------------------

Some of the old and vague IDs have been replaced or removed.

* "flv" -> "default"

  This was previously used due to historical reasons as the "default"
  format. In reality, many websites default to something else than
  "flv" (or Adobe Flash video) format.

* Youtube specific changes

  The format ID array was completely revamped. Some of the previously used
  format IDs implied incorrectly only extensions and not the video
  format/resolution. Example: "mp4" -> "sd_270p".

* Google specific changes

  Removed the "mp4" format.

* Spiegel specific changes

  New format ID array, now implying the bitrate/quality. The
  new default format is vp6_388, this was previously vp6_64.


3. API changes
--------------

* Additional QUVIcodes (Lua related)

* quvi_next_host is now deprecated

  The function remains (for now) in the library API, however:

  quvi_next_host no longer returns anything (other than QUVI_OK)

  Any applications depending on this function to do anything
  essential should update to use the quvi_next_supported_website
  instead (see below).

* quvi_next_supported_website was added

  Intended to replace quvi_next_host, very similar except takes
  an additional parameter (quvi_t) and expects the caller to
  quvi_free() the returned domain and formats strings.

* quvi_free added


4. Distribution changes
-----------------------

* New dependency: Lua 5.1+ (library), see also INSTALL file

* Additional files are now installed from doc/ and share/

  See the appropriate Makefile.am files to get a complete list
  of these files.

* New configure option: --with-doc (default:yes)

* New configure option: --enable-examples option (default:no)


Version 0.1.2
=============

Adds quvi_callback_write support, tweaks quvi_callback_status
support (abort if the callback returns a non-zero value).

Adds --enable-broken.

Tests now include use of "-f best" where applicable.

Minor (unlisted) tweaks and bugfixes to quvi tool.

Marks as broken: ehrensenf.de, spyfilms.com, see TODO.


Version 0.1.1
-------------

Fixes the issues that have been plaguing the users on 64bit
systems. See ChangeLog for the details.

Dailymotion format IDs were renamed to reflect the website
changes. See ChangeLog for the details.

Fixes also Vimeo support.
