
Version 0.2.0
=============

* Developers should read these changes carefully, especially the "API changes"

* Downstream maintainers should read (at least) the "Distribution changes"


1. Lua scripting
----------------

Introduce Lua <http://lua.org> scripts to the project. quvi now uses website
specific scripts (rules) to fetch and parse the video links.

This has the following advantages to the old design:

  * Dynamic script loading
    - Scripts can be dropped in (and removed from) the search path
    - The search paths are covered in C API reference and share/lua/README

  * No need to tweak C source code or recompile quvi
    - Easier prototyping for new websites and fixing/improving parsing
    - Lua is fairly easy to learn and use (see share/lua/website/ for examples)

  * Cleaner source code

  * Less prone to memory leaks

Scripting replaces the old design entirely, e.g. lib/host/ or any related
files are no longer required or distributed with the source code


2. Video format (ID) changes
----------------------------

Some of the old and vague IDs have been replaced or removed.

* "flv" -> "default"

  - "flv" was previously treated as `default' format, this was done
  primarily for historical reasons

  - "flv" implies Adobe Flash format but in actuality, some of the current
  websites default to completely different formats

  - "flv" also implies file format rather than video format

  - The "default format" is as of this release referred to as "default",
  see `quvi --hosts' to get the idea

* Youtube

  - The format array was completely revamped, so for example instead of "mp4",
  one is expected to use "sd_270p", like above with "flv", "mp4" too implied
  file format rather than video format (or resolution)

* Google

  - Removed the "mp4" format

* Spiegel

  - New format ID array, implying the bitrate/quality of the format

  - New default is vp6_388, default was previously vp6_64


3. API changes
--------------

* Additional QUVIcodes (Lua related)

* quvi_next_host is now deprecated

  - The binary compatibility remains, however:

    - quvi_next_host no longer returns any string values

    - Applications that rely on this function for anything essential,
    must be modified to use quvi_next_supported_website

    - returned domain and formats strings must be quvi_free()d

* quvi_next_supported_website was added

  - Replaces quvi_next_host

* quvi_free added


4. Distribution changes
-----------------------

* New dependency: Lua 5.1+ (library), see also INSTALL file

* Additional files are now installed from doc/ and share/, see
their appropriate Makefile.am files to get a full list of the files

* New --with-doc option [configure] (default:yes)

* New --enable-examples option [configure] (default:no)


Version 0.1.2
-------------

Adds quvi_callback_write support, tweaks quvi_callback_status
support (abort if the callback returns a non-zero value).

Adds --enable-broken.

Tests now include use of "-f best" where applicable.

Minor (unlisted) tweaks and bugfixes to quvi tool.

Marks as broken: ehrensenf.de, spyfilms.com, see TODO.


Version 0.1.1
-------------

Fixes the issues that have been plaguing the users on 64bit
systems. See ChangeLog for the details.

Dailymotion format IDs were renamed to reflect the website
changes. See ChangeLog for the details.

Fixes also Vimeo support.
